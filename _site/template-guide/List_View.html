<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="/stylesheets/shCore.css"/>
    <link rel="stylesheet" type="text/css" href="/stylesheets/shThemeDefault.css"/>

    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print"/>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Argos Mobile by Sage</title>
</head>

<body>
<div id="container">
    <div class="inner">

<header class="clearfix">
    <div class="grid-2">
        <h1>Argos Template Guide</h1>

        <h2>Kickstart your app</h2>
    </div>
    <div class="grid-2">
        <section class="downloads clearfix">
            <a href="https://github.com/Sage/argos-template/zipball/master" class="download-zip button"><span>Download .zip</span></a>
            <a href="https://github.com/Sage/argos-template" class="view-on-github button"><span>View on GitHub</span></a>
        </section>
    </div>
</header>

<section id="main_content" role="main">
    <p>List Views are designed to present rows of entries, where each row is its own object. We saw it used listing all the Accounts and derivative used for the Home View. It is also used to show select lists, pick lists, configuration views, and others.</p>

<h2>List</h2>

<ul>
<li>Logic for requesting an SData feed and processing the $resources</li>
<li>Selection Model built in to every List View</li>
<li>Plugin-able Search Widgets</li>
<li>Automatic data paging</li>
</ul>


<h3>Base List</h3>

<p>The following is an example of a simple List View:</p>

<pre class="brush: js">
define('Mobile/Template/Views/Account/List', [
    'dojo/_base/declare',
    'dojo/string',
    'Sage/Platform/Mobile/List'
], function(
    declare,
    string,
    List
) {

    return declare('Mobile.Template.Views.Account.List', [List], {
        // Localization
        titleText: 'Accounts',
        //Templates
        itemTemplate: new Simplate([
            '<h3>{%= $.AccountName %}</h3>'
        ]),

        //View Properties
        id: 'account_list',
        icon: 'content/images/icons/Company_24.png',
        detailView: 'account_detail',
        insertView: 'account_edit',
        queryOrderBy: 'AccountName asc',
        querySelect: [
            'AccountName',
            'Description'
        ],
        resourceKind: 'accounts',

        formatSearchQuery: function(searchQuery) {
            return string.substitute('AccountName like "%${0}%"', [
                this.escapeSearchQuery(searchQuery.toUpperCase())
            ]);
        }
    });
});
</pre>


<h3>Common Properties</h3>

<p>Includes all properties from the <a href="https://github.com/Sage/argos-template/wiki/Views">base View</a> class. Not all properties are listed below, just the commonly accessed.</p>

<p><strong>rowTemplate</strong> : Simplate <br/>
Simplate that defines the row (<code>&lt;li&gt;</code>) HTML markup. Should call the <code>itemTemplate</code> within. It is passed the individual row object and it's properties are available for  use.</p>

<p><strong>itemTemplate</strong> : Simplate <br/>
Simplate that defines how to render each item, it will be passed the individual row object and it's properties are available for use.</p>

<p><strong>resourceKind</strong> : string  <br/>
The SData resource kind the view is responsible for, this will be used in all SData requests from this view.</p>

<p><strong>querySelect</strong> : Array<string> <br/>
A list of fields to be selected in an SData Request, used in the URL via <code>select=</code></p>

<p><strong>queryOrderBy</strong> : string <br/>
String expression to order by in an SData Request</p>

<p><strong>queryWhere</strong> : string <br/>
Default where expression, may be appended to by the default Search Widget or via navigation options</p>

<p><strong>pageSize</strong> : int <br/>
Number of items per SData request, defaults to 20</p>

<p><strong>hideSearch</strong> : bool <br/>
True to hide the defined Search Widget, defaults to False, may be overridden via navigation options</p>

<p> <strong>allowSelection</strong> : bool <br/>
True to allow selection (not to be confused with clicking or activating) in the view, defaults to false</p>

<p><strong>detailView</strong> : string <br/>
The string id of the Detail View that should be shown when a row is clicked</p>

<p><strong>editView</strong> : string
The string id of the Edit View that should be shown when the Insert toolbar item is clicked and insertView is not defined</p>

<p><strong>insertView</strong> : string
The string id of the Edit View that should be shown when the Insert toolbar item is clicked</p>

<p><strong>hashTagQueries</strong> : Dictionary&lt;string, string or function> <br/>
An Object map where the keys will be hash tags (#hash) and the values will be appended to the queryWhere expression. If the value is a function it will be expanded but the end result should be a string expression. Note hash search is only supported with the default Search Widget.</p>

<pre class="brush: js">
hashTagQueries: {
    'open': 'Closed eq false',
    'closed': 'Closed eq true'
}
</pre>


<p><strong>hashTagQueriesText</strong> : Dictionary&lt;string, string> <br/>
An Object map where the keys are the keys from the hashTagQueries map and the values are the localizable text version</p>

<pre class="brush: js">
hashTagQueriesText: {
    'open': 'Ã¶ffnen',
    'closed': 'zu'
}
</pre>


<p><strong>icon</strong> : string <br/>
Relative path to an image. Used on the default Home View only.</p>

<p><strong>searchWidgetClass</strong> : Widget <br/>
The Search Widget to use for this View, defaults to the SData Search Widget with Hash support.</p>

<p><strong>feed</strong> : object <br/>
During the processFeed function it stores the entire SData response into the views feed property</p>

<p><strong>entries</strong> : Dictionary&lt;string, object>  <br/>
During the processFeed function it stores each individual item into the entries object map using the items $key property as the key and the item itself as the value.</p>

<h3>Common Functions</h3>

<p>Includes all properties from the <a href="https://github.com/Sage/argos-template/wiki/Views">base View</a> class. Not all functions are listed below, just the commonly accessed.</p>

<p><strong>formatSearchQuery</strong> <br/>
@param searchQuery : string - text typed into search bar  <br/>
Transforms the text typed into the search bar into a SData Where expression to be appended to the views queryWhere property.</p>

<p><strong>processFeed</strong> <br/>
@param feed : object - the SData feed response <br/>
Takes the SData response and creates rows for every item in $resources and sets up paging according to $totalResults, $startIndex and $itemsPerPage.</p>

<p><strong>clear</strong> <br/>
Completely empties the view and its state properties: selections, entries, feed, query, calls the SearchWidget clear, and re-applies the Loading Template.</p>

</section>

<footer>
    Argos Mobile is maintained by <a href="https://github.com/Sage">Sage</a><br>
</footer>
</div>
</div>

<!-- Scripts -->
<script src="/javascripts/shCore.js"></script>
<script src="/javascripts/shBrushJScript.js"></script>
<script src="/javascripts/shBrushCss.js"></script>
<script src="/javascripts/shBrushXml.js"></script>
<script src="/javascripts/shBrushCSharp.js"></script>
<script src="/javascripts/shBrushRuby.js"></script>

<script>
    SyntaxHighlighter.all();
</script>
</body>
</html>