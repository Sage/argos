<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="/stylesheets/shCore.css"/>
    <link rel="stylesheet" type="text/css" href="/stylesheets/shThemeDefault.css"/>

    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print"/>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Argos Mobile by Sage</title>
</head>

<body>
<div id="container">
    <div class="inner">

<header class="clearfix">
    <div class="grid-2">
        <h1>Argos Template Guide</h1>

        <h2>Kickstart your app</h2>
    </div>
    <div class="grid-2">
        <section class="downloads clearfix">
            <a href="https://github.com/Sage/argos-template/zipball/master" class="download-zip button"><span>Download .zip</span></a>
            <a href="https://github.com/Sage/argos-template" class="view-on-github button"><span>View on GitHub</span></a>
        </section>
    </div>
</header>

<section id="main_content" role="main">
    <p>As mentioned in the View overview all Views have an <code>id</code> property. Knowing the <code>id</code> enables you to get a references to that View, and therefore it's <code>show()</code> function for navigation.</p>

<p>For all the exercises the id's of the views in argos-template are: <code>account_list</code>, <code>account_detail</code> and <code>account_edit</code>.</p>

<h2>Exercise 1: Transition</h2>

<p>To start we will simply show the Account List View and see how <code>Home.js</code> accomplishes the same feat.</p>

<h3>Work it!</h3>

<ol>
<li>Open <code>index-dev.html</code> and then open your javascript console panel (see <a href="https://github.com/Sage/argos-template/wiki/Browser-Setup">Browser Setup</a> for help).</li>
<li>Type in <code>App.getView('account_list').show()</code> and press enter.</li>
</ol>


<h3>Result</h3>

<p>The Home View should have moved left while the Account List View moved in from the right. Calling the <code>show()</code> function with no options calls that view to be shown.</p>

<h2>Exercise 2: Navigation Options</h2>

<p>Navigation Options, or sometimes called View Options, is the object passed into the <code>show()</code> call that get stored into the views <code>options</code> property. Many Views have custom navigation options that they respond to and they will be covered under their respective help pages, for now let's try out passing <code>key</code> to a Detail View.</p>

<h3>Work it!</h3>

<ol>
<li>Go back to the Home Screen, via refresh or pressing the Home button.</li>
<li>Back in the javascript console type: <code>App.getView('account_detail').show({key: '001'})</code> and press enter.</li>
<li>You are shown the Template Inc Detail entry. Press Back or Home.</li>
<li>Now type in: <code>App.getView('account_detail').show({key: '002'})</code> and press enter.</li>
<li>You are shown the Boilerplate Co Detail entry.</li>
</ol>


<h2>Results</h2>

<p>This is just one example of using navigation options to change the behavior of the new view being shown. In this case Detail Views look for the <code>key</code> property and make a data request for that key and shows the results in the Detail View.</p>

<h2>Exercise 3: Inspecting Existing Code</h2>

<p>We've used the commands in the console window, but let's take a peek at the existing logic in Home.js and MainToolbar.js for their uses of the same command.</p>

<h3>Work it!</h3>

<ol>
<li>Open <code>Home.js</code> and find the <code>createLayout</code> function, ignore the top half and look for the for loop and the line where it's adding an object:
 <pre class="brush: js">
visible.children.push({ ... });
 </pre></li>
<li>This line is adding each row and it's definition is very similar to tool items mentioned in the previous section. This structure will be a common recurring theme.</li>
<li>Note that the <code>action</code> property is set to <code>navigateToView</code> and <code>view</code> is set to the Views <code>id</code> property (see where this is going?) - scroll up to the <code>navigateToView</code> function.</li>
<li>NavigateToView is being passed <code>params</code> which has the <code>view</code> property pointing back to the views <code>id</code>. The rest of the code is the exact same command used in Exercise 1.</li>
</ol>


<p>You may have used the Home button to return back to the main page, let's look at that next.</p>

<ol>
<li>Open <code>MailToolbar.js</code> and find where it is defining the <code>tools</code> variable in the <code>showTools</code> function:
 <pre class="brush: js">
tools = (tools || []).concat([ ... ]);
 </pre></li>
<li>This line is appending the <code>back</code> and <code>home</code> tool items to every view</li>
<li>Look at the <code>home</code> tool item definition at the <code>fn</code> property it's set directly to <code>navigateToHomeView</code></li>
<li>NavigateToHome View is defined near the bottom and it uses a shortcut <code>App.navigateToHomeView()</code>, which if you follow it to the definition it reads:
 <pre class="brush: js">
navigateToHomeView: function() {
 var view = this.getView('home');
 if (view)

<pre><code> view.show();
</code></pre>

<p>},
 </pre></p></li>
<li>Which is the same code as before (as <code>this</code> is App).</li>
</ol>


<h3>Result</h3>

<p>Navigation within the app uses the same logic and commands that work from the console.</p>

<h2>Exercise 4: Navigation History</h2>

<p>One of the main usability issues with HTML5 based apps is the lack of history context, always taking you to the base page or using funny URLs to work around the problem. Argos-SDK has a complete solution into storing, loading and using the navigation history to the fullest extent.</p>

<h3>Work it!</h3>

<ol>
<li>Open the app and click <code>Accounts</code> to be taken to the List View, then select an entry to be taken to the Detail View.</li>
<li>Now go to your javascript console and type: <code>ReUI.context.history</code> and press return.</li>
<li>Inspect the three objects within the array - it saves a lot of data about each page into the navigation history for context retrieval and navigation restoration.</li>
<li>Back in the app, click the Home button.</li>
<li>Run the same command in the console.</li>
<li>Note that the history has been "cleaned" to only show the Home View. The management system keeps the history trimmed to only the relevant tree path to recreate the navigation state.</li>
</ol>


<h3>Results</h3>

<p>If you think of breadcrumbs (World > Politics > 2012 > Article#1) on a news site for example the same theory is applied to the navigation history, in order to get to Article#1 it needs the context information from each step to get back there. If you were to click World then it doesn't need to step all the way down then back up so all the history in between gets removed.</p>

</section>

<footer>
    Argos Mobile is maintained by <a href="https://github.com/Sage">Sage</a><br>
</footer>
</div>
</div>

<!-- Scripts -->
<script src="/javascripts/shCore.js"></script>
<script src="/javascripts/shBrushJScript.js"></script>
<script src="/javascripts/shBrushCss.js"></script>
<script src="/javascripts/shBrushXml.js"></script>
<script src="/javascripts/shBrushCSharp.js"></script>
<script src="/javascripts/shBrushRuby.js"></script>

<script>
    SyntaxHighlighter.all();
</script>
</body>
</html>